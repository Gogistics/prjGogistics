'''
Created on Dec 22, 2014

@author: Alan Tai
'''
from handlers.handler_webapp2_extra_auth import BaseHandler
from libs_crawler import feedparser
from models.models_wine_info import WebLinks

class CrawlingDispatcher(BaseHandler):
    def get(self):
        self._read_feed()
    
    def _read_feed(self):
        feeds = feedparser.parse("http://www.wine-searcher.com/")
        
        for feed in feeds["items"]:
            feeds = WebLinks.query(WebLinks.link = feed["link"])